<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Modifier un service - Love Market</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="logo">ğŸ’• Love Market</div>
      <% if (user) { %>
      <nav class="nav">
        <a href="/dashboard" title="Dashboard" class="<%= currentPath === '/dashboard' ? 'nav-active' : '' %>">ğŸ <span class="nav-text"> Accueil</span></a>
        <a href="/shop" title="Boutique" class="<%= currentPath === '/shop' ? 'nav-active' : '' %>">ğŸ›ï¸<span class="nav-text"> Boutique</span></a>
        <a href="/my-services" title="Mes services" class="<%= currentPath === '/my-services' ? 'nav-active' : '' %>">ğŸ¤<span class="nav-text"> Mes services</span></a>
        <a href="/negotiations" title="NÃ©gociations" class="nav-link-with-badge <%= currentPath === '/negotiations' ? 'nav-active' : '' %>">
          ğŸ’¬<span class="nav-text"> NÃ©gociations</span>
          <% if (notificationCount > 0) { %>
          <span class="notification-badge"><%= notificationCount %></span>
          <% } %>
        </a>
        <% if (user.role === 'admin') { %>
        <a href="/admin" class="admin-link <%= currentPath === '/admin' ? 'nav-active' : '' %>" title="Admin">âš™ï¸<span class="nav-text"> Admin</span></a>
        <% } %>
      </nav>
      <div class="user-info">
        <span class="credits"><%= user.credits %> â¤ï¸</span>
        <span class="user-name"><%= user.displayName %></span>
        <a href="/logout" class="logout">DÃ©connexion</a>
      </div>
      <% } %>
    </header>

    <main class="page">
      <section class="section">
        <h1 class="section-title">Modifier le service</h1>

        <div class="card">
          <form method="post" action="/services/<%= service.id %>/edit" class="form">
            <label>
              Titre
              <input type="text" name="title" value="<%= service.title %>" required />
            </label>
            <label>
              Description
              <textarea name="description" rows="2"><%= service.description %></textarea>
            </label>
            <label>
              CatÃ©gorie
              <select name="category">
                <option value="Romantique" <%= service.category === 'Romantique' ? 'selected' : '' %>>Romantique</option>
                <option value="DÃ©tente" <%= service.category === 'DÃ©tente' ? 'selected' : '' %>>DÃ©tente</option>
                <option value="Fun" <%= service.category === 'Fun' ? 'selected' : '' %>>Fun</option>
                <option value="Maison" <%= service.category === 'Maison' ? 'selected' : '' %>>Maison</option>
                <option value="Sortie" <%= service.category === 'Sortie' ? 'selected' : '' %>>Sortie</option>
                <option value="Famille" <%= service.category === 'Famille' ? 'selected' : '' %>>Famille</option>
                <option value="Enfants" <%= service.category === 'Enfants' ? 'selected' : '' %>>Enfants</option>
                <option value="Cuisine" <%= service.category === 'Cuisine' ? 'selected' : '' %>>Cuisine</option>
                <option value="Voyage" <%= service.category === 'Voyage' ? 'selected' : '' %>>Voyage</option>
                <option value="Bien-Ãªtre" <%= service.category === 'Bien-Ãªtre' ? 'selected' : '' %>>Bien-Ãªtre</option>
              </select>
            </label>
            <label>
              IcÃ´ne
              <select name="icon">
                <option value="ğŸ›" <%= service.icon === 'ğŸ›' ? 'selected' : '' %>>ğŸ› Salle de bain / mÃ©nage</option>
                <option value="ğŸ¥" <%= service.icon === 'ğŸ¥' ? 'selected' : '' %>>ğŸ¥ Petit dÃ©jeuner / cuisine</option>
                <option value="ğŸ½ï¸" <%= service.icon === 'ğŸ½ï¸' ? 'selected' : '' %>>ğŸ½ï¸ Restaurant / sortie</option>
                <option value="ğŸ’†" <%= service.icon === 'ğŸ’†' ? 'selected' : '' %>>ğŸ’† Massage / dÃ©tente</option>
                <option value="ğŸ²" <%= service.icon === 'ğŸ²' ? 'selected' : '' %>>ğŸ² SoirÃ©e fun / jeux</option>
                <option value="ğŸ“º" <%= service.icon === 'ğŸ“º' ? 'selected' : '' %>>ğŸ“º SÃ©ries / film</option>
                <option value="ğŸ‘¶" <%= service.icon === 'ğŸ‘¶' ? 'selected' : '' %>>ğŸ‘¶ Garde enfants</option>
                <option value="ğŸŒ¹" <%= service.icon === 'ğŸŒ¹' ? 'selected' : '' %>>ğŸŒ¹ Geste romantique</option>
                <option value="ğŸ‰" <%= service.icon === 'ğŸ‰' ? 'selected' : '' %>>ğŸ‰ FÃªte / anniversaire</option>
                <option value="ğŸš—" <%= service.icon === 'ğŸš—' ? 'selected' : '' %>>ğŸš— Sortie / balade</option>
                <option value="ğŸ’—" <%= !service.icon || service.icon === 'ğŸ’—' ? 'selected' : '' %>>ğŸ’— Autre</option>
              </select>
            </label>
            <label>
              Prix (en crÃ©dits â¤ï¸)
              <input type="number" name="price" min="0" step="1" value="<%= service.price %>" />
            </label>
            <button type="submit" class="btn-primary">Enregistrer</button>
            <a href="/my-services" class="btn-secondary">Annuler</a>
          </form>
        </div>
      </section>
    </main>
  </body>
</html>
